
!function(n){"use strict";var t=function(t,i){return this.el=n(t),this.options=n.extend({},n.fn.paginathing.defaults,i),this.startPage=1,this.currentPage=1,this.totalItems=this.el.children().length,this.totalPages=Math.max(Math.ceil(this.totalItems/this.options.perPage),this.options.limitPagination),this.container=n("<nav><\/nav>").addClass(this.options.containerClass),this.ul=n("<ul><\/ul>").addClass(this.options.ulClass),this.show(this.startPage),this};t.prototype={pagination:function(t,i){var u=this,r=n("<li><\/li>"),e=n("<a><\/a>").attr("href","#"),o="number"===t?u.options.liClass:t,f="";return f="number"===t?i:"pageNumbers"===t?u.paginationNumbersText():u.paginationText(t),r.addClass(o),r.data("pagination-type",t),r.data("page",i),r.append(e.html(f)),r},paginationText:function(n){return this.options[n+"Text"]},paginationNumbersText:function(){return"Page "+this.currentPage+"/"+this.totalPages},buildPagination:function(){var r,u,n=this,t=[],e=n.currentPage-1<n.startPage?n.startPage:n.currentPage-1,o=n.currentPage+1>n.totalPages?n.totalPages:n.currentPage+1,i=n.options.limitPagination,f;for(i?n.currentPage<=Math.ceil(i/2)+1?(r=1,u=i):n.currentPage+Math.floor(i/2)>=n.totalPages?(r=n.totalPages+1-i,u=n.totalPages):(r=n.currentPage-Math.ceil(i/2),u=n.currentPage+Math.floor(i/2)):(r=n.startPage,u=n.totalPages),n.options.firstLast&&t.push(n.pagination("first",n.startPage)),n.options.prevNext&&t.push(n.pagination("prev",e)),f=r;f<=u;f++)t.push(n.pagination("number",f));return n.options.prevNext&&t.push(n.pagination("next",o)),n.options.firstLast&&t.push(n.pagination("last",n.totalPages)),n.options.pageNumbers&&t.push(n.pagination("pageNumbers",n.currentPage)),t},render:function(t){var i=this,r=i.options,e=i.buildPagination(),u,f;i.ul.children().remove();i.ul.append(e);u=1===t?0:(t-1)*r.perPage;f=t*r.perPage;i.el.children().hide();i.el.children().slice(u,f).show();i.ul.children().each(function(){var u=n(this);switch(u.data("pagination-type")){case"number":u.data("page")===t&&u.addClass(r.activeClass);break;case"first":t===i.startPage&&u.toggleClass(r.disabledClass);break;case"last":t===i.totalPages&&u.toggleClass(r.disabledClass);break;case"prev":t-1<i.startPage&&u.toggleClass(r.disabledClass);break;case"next":t+1>i.totalPages&&u.toggleClass(r.disabledClass)}});r.insertAfter?i.container.append(i.ul).insertAfter(n(r.insertAfter)):i.el.after(i.container.append(i.ul))},handle:function(){var t=this;t.container.find("li").each(function(){var i=n(this);i.click(function(n){n.preventDefault();var r=i.data("page");t.currentPage=r;t.show(r)})})},show:function(n){this.render(n);this.handle()}};n.fn.paginathing=function(n){return this.each(function(){return new t(this,n)})};n.fn.paginathing.defaults={perPage:10,limitPagination:!1,prevNext:!0,firstLast:!0,prevText:"&laquo;",nextText:"&raquo;",firstText:"First",lastText:"Last",containerClass:"pagination-container",ulClass:"pagination",liClass:"page",activeClass:"active",disabledClass:"disabled",insertAfter:null,pageNumbers:!1}}(jQuery,window,document)